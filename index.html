<!DOCTYPE HTML>
<!--
	Stellar by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Accelerating SqueezeNet on FPGA</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header" class="alt">
						<span class="logo"><img src="images/logo.svg" alt="" /></span>
						<h1>Accelerating SqueezeNet on FPGA</h1>
						<p>by <a href="http://in.linkedin.com/in/meghaarora42">Megha Arora</a> and <a href="https://">Samyukta Lanka</a>.</p>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul>
							<li><a href="#proposal" class="active">Proposal</a></li>
							<li><a href="#first">CheckPoint</a></li>
							<li><a href="#second">Final</a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Introduction -->
							<section id="proposal" class="main">
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Summary</h2>
										</header>
										<p>We will accelerate <a href="https://arxiv.org/pdf/1602.07360.pdf">SqueezeNet</a> (a CNN variant) on an FPGA</p>
									</div>
								</div>
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Background</h2>
										</header>

											<p>We chose DNNs because they are revolutionizing many areas of computing today and there is parallelism that the underlying model possesses. The sequence of multiply/add operations (like FMA) to calculate the input to each layer in the network are highly parallelizable. In particular, there are multiple axis of parallelism we plan to explore - </p>

											<li><b>Layer parallelism</b> - different layers being processed in parallel (low level of parallelism). [maybe use pipelining to exploit this] </li>

											<li><b>Node parallelism</b> - Here the axis of parallelism will be each neuron (there can be millions in a DNN); most prominent in this problem. Entails high level of parallelism and FPGA ‘cells’ are ideal for this. </li>

											<li><b>Data parallelism</b> - Computing the dot product of the input and the weights at each step (including convolution) in parallel. </li>

											<p>An extremely popular DNN is Covolutional Neural Network(CNN) which is extensively used in the domain of computer vision. SqueezeNet was created to combat the large number of parameters required for CNNs. Based on <a href="https://papers.nips.cc/paper/4824-imagenet-classification-with-deep-convolutional-neural-networks.pdf">AlexNet</a> , the purpose was to reduce the memory required without losing accuracy. We will be accelerating SqueezeNet (architecture on right) on the Zybo Zynq-7020 FPGA.</p>
									</div>
									<img src="images/SqueezeNet.PNG" alt="" /> <br>
								</div>
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Challenges</h2>
										</header>
										<p>All the different levels of parallelism vary drastically and will be traded off against each other. Some are more prominent in the problem as compared to others. Varying amount of effort and benefit is involved in each, which would require extensive amount of platform knowledge (FPGA in this case) and testing multiple implementations! Deciding which one to prioritize at what cost will be challenging! Also, some types of parallelism may not be suitable for us to implement on the FPGA depending on the design (eg: exploiting bit-level parallelism on FPGA). </p>

										<p> One of the major challenges that we will be dealing with is being memory bound on the FPGA. The specific device that we have has 256 KB of on-chip memory with options for external memory. The size of SqueezeNet is much larger than this and it would be difficult to fit the model on the chip. This means we will also have to ensure data locality and reuse.</p>
									</div>
								</div>
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Resources</h2>
										</header>
										<p>We will use the Zybo Zynq-7020 FPGA for this task. We do not have a codebase to refer to; the initial FPGA implementation will be our first goal. We will be referring to the following implementations/papers extensively - </p>

										<li><a href="https://arxiv.org/pdf/1602.07360.pdf">SqueezeNet</a></li>
										<li><a href="https://github.com/dgschwend/zynqnet">Implementation of SqueezeNet-like CNN on FPGA</a></li>
										<li><a href="http://lab.fs.uni-lj.si/lasin/wp/IMIT_files/neural/doc/Omondi2006.pdf">FPGA Implementations of Neural Networks</a></li>
									</div>
								</div>
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Goals and Deliverables</h2>
										</header>
										<li>Plan to Achieve: Get a <b>working baseline FPGA implementation that exceeds CPU performance without compromising accuracy</b></li>

										<li>Hope to Achieve: Fit the model in on-chip memory </li>

										<li>Demo: Simultaneously show SqueezeNet in action on multiple images with one version running the CPU implementation and the other running the FPGA implementation. We will also present the performance of our implementation as compared to <a href="https://github.com/soumith/convnet-benchmarks">existing benchmarks</a> through speedup graphs. </li>
									</div>
								</div>
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Platform</h2>
										</header>
										<p> General purpose processors fail to fully exploit the parallelism inherent in DNNs. For instance it can take upto 3 weeks to train a 22 layer CNN for image classification (ImageNet) using 1 NVIDIA K20 GPU. The drawback of using an ASIC neurocomputer for this task also has its own challenges. First, devices that work on special applications always lag behind the mass-produced devices in terms of innovation. Given the variability in ANN architectures, the ASIC neurocomputer cannot be extended to many different architectures without involving significant cost! </p>

										<p>FPGAs on the other hand offer the best balance of cost:performance and flexibility for this domain as compared to ASIC neurocomputers or state-of-the-art multi-purpose processors. Essentially, they can be used as <b>‘semi-custom’ machines for neural networks.</b></p>
									</div>
								</div>

								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Schedule</h2>
										</header>
										<table style="width:100%">
										  <tr>
										    <th>Date</th>
										    <th>Milestone</th> 
										  </tr>
										  <tr>
										    <td>April 10</td>
										    <td>Proposal</td> 
										  </tr>
										  <tr>
										    <td>April 16</td>
										    <td>Convolutions and Max Pooling Layers Working Separately on FPGA</td> 
										  </tr>
										  <tr>
										    <td>April 23</td>
										    <td>SqueezeNet Working on FPGA</td> 
										  </tr>
										  <tr>
										    <td>April 30</td>
										    <td>Acceleration + Optimizations</td> 
										  </tr>
										  <tr>
										    <td>May 7</td>
										    <td>Benchmarking</td> 
										  </tr>
										  <tr>
										    <td>May 11</td>
										    <td>Result Collation + Report Writing</td> 
										  </tr>
										</table>
									</div>
								</div>

								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>References</h2>
										</header>
										<li> [0]: <a href="https://arxiv.org/pdf/1602.07360.pdf"> https://arxiv.org/pdf/1602.07360.pdf</a></li>
										<li> [1]: <a href="https://papers.nips.cc/paper/4824-imagenet-classification-with-deep-convolutional-neural-networks.pdf"> https://papers.nips.cc/paper/4824-imagenet-classification-with-deep-convolutional-neural-networks.pdf </a></li>
										<li> [2]: <a href="https://github.com/dgschwend/zynqnet"> https://github.com/dgschwend/zynqnet</a></li>
										<li> [3]: <a href="http://lab.fs.uni-lj.si/lasin/wp/IMIT_files/neural/doc/Omondi2006.pdf"> http://lab.fs.uni-lj.si/lasin/wp/IMIT_files/neural/doc/Omondi2006.pdf</a></li>										
									</div>
								</div>
							</section>

						<!-- First Section -->
							<section id="first" class="main">
								<!-- <header class="major">
									<h2>Checkpoint</h2>
								</header> -->
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Schedule (Updated)</h2>
										</header>
										<table style="width:100%">
										  <tr>
										    <th>Date</th>
										    <th>Milestone</th>
										    <th>Status</th>
										  </tr>
										  <tr>
										    <td>April 10</td>
										    <td>Proposal</td> 
										    <td>Done</td> 
										  </tr>
										  <tr>
										    <td>April 16</td>
										    <td>SqueezeNet CPU Benchmark</td>
										    <td>Done</td>  
										  </tr>
										  <tr>
										    <td>April 20</td>
										    <td>Convolutions and Max Pooling Modules</td>
										    <td>Done</td>  
										  </tr>
										  <tr>
										    <td>April 25</td>
										    <td>Design Flow with DMA</td> 
										    <td>Ongoing</td> 
										  </tr>
										  <tr>
										    <td>April 29</td>
										    <td>SqueezeNet Working on FPGA</td> 
										    <td>-</td> 
										  </tr>
										  <tr>
										    <td>May 3</td>
										    <td>Acceleration + Optimizations</td> 
										    <td>-</td> 
										  </tr>
										  <tr>
										    <td>May 7</td>
										    <td>Benchmarking</td>
										    <td>-</td>  
										  </tr>
										  <tr>
										    <td>May 11</td>
										    <td>Result Collation + Report Writing</td>
										    <td>-</td>  
										  </tr>
										</table>
									</div>
								</div>
								<div class="spotlight">
									<div class="content">
										<header class="major">
											<h2>Status Update</h2>
										</header>
										<li>We are a little behind because of the delay in getting access to the FPGA and the initial hardware setup (including driver installations) was bumpy. We will have a better idea once we get SqueezeNet working on the FPGA, which we can test against our CPU benchmark for correctness and performance.</li>

										<li>We have the hardware setup complete and verilog modules for convolution and max pooling are also done. We are currently trying to load data from DMA now as doing the same from the SD card is complicated and we couldn't get that to work.</li>

										<li>We had a update meeting with the course staff (Teguh) to finalize our design flow.</li>

										<li>For the parallelism competition, we are going to simultaneously show SqueezeNet in action on multiple images with one version running the CPU implementation and the other running the FPGA implementation. We will also present the performance of our implementation as compared to <a href="https://github.com/soumith/convnet-benchmarks">existing benchmarks</a> through speedup graphs. </li>
									</div>
								</div>

								<!-- <ul class="features">
									<li>
										<span class="icon major style1 fa-code"></span>
										<h3>Ipsum consequat</h3>
										<p>Sed lorem amet ipsum dolor et amet nullam consequat a feugiat consequat tempus veroeros sed consequat.</p>
									</li>
									<li>
										<span class="icon major style3 fa-copy"></span>
										<h3>Amed sed feugiat</h3>
										<p>Sed lorem amet ipsum dolor et amet nullam consequat a feugiat consequat tempus veroeros sed consequat.</p>
									</li>
									<li>
										<span class="icon major style5 fa-diamond"></span>
										<h3>Dolor nullam</h3>
										<p>Sed lorem amet ipsum dolor et amet nullam consequat a feugiat consequat tempus veroeros sed consequat.</p>
									</li>
								</ul>
								<footer class="major">
									<ul class="actions">
										<li><a href="generic.html" class="button">Learn More</a></li>
									</ul>
								</footer> -->
							</section>

						<!-- Second Section -->
							<section id="second" class="main special">
								<header class="major">
									<h2>Final</h2>
									<!-- <p>Donec imperdiet consequat consequat. Suspendisse feugiat congue<br />
									posuere. Null a massa urna, fermentum eget quam aliquet.</p>
								</header> -->
								<!-- <ul class="statistics">
									<li class="style1">
										<span class="icon fa-code-fork"></span>
										<strong>5,120</strong> Etiam
									</li>
									<li class="style2">
										<span class="icon fa-folder-open-o"></span>
										<strong>8,192</strong> Magna
									</li>
									<li class="style3">
										<span class="icon fa-signal"></span>
										<strong>2,048</strong> Tempus
									</li>
									<li class="style4">
										<span class="icon fa-laptop"></span>
										<strong>4,096</strong> Aliquam
									</li>
									<li class="style5">
										<span class="icon fa-diamond"></span>
										<strong>1,024</strong> Nullam
									</li>
								</ul> -->
<!-- 								<p class="content">Nam elementum nisl et mi a commodo porttitor. Morbi sit amet nisl eu arcu faucibus hendrerit vel a risus. Nam a orci mi, elementum ac arcu sit amet, fermentum pellentesque et purus. Integer maximus varius lorem, sed convallis diam accumsan sed. Etiam porttitor placerat sapien, sed eleifend a enim pulvinar faucibus semper quis ut arcu. Ut non nisl a mollis est efficitur vestibulum. Integer eget purus nec nulla mattis et accumsan ut magna libero. Morbi auctor iaculis porttitor. Sed ut magna ac risus et hendrerit scelerisque. Praesent eleifend lacus in lectus aliquam porta. Cras eu ornare dui curabitur lacinia.</p>
								<footer class="major">
									<ul class="actions">
										<li><a href="generic.html" class="button">Learn More</a></li>
									</ul>
								</footer> -->
							</section>

				<!-- Footer -->
					<footer id="footer">
					<!-- 	<section>
							<h2>Aliquam sed mauris</h2>
							<p>Sed lorem ipsum dolor sit amet et nullam consequat feugiat consequat magna adipiscing tempus etiam dolore veroeros. eget dapibus mauris. Cras aliquet, nisl ut viverra sollicitudin, ligula erat egestas velit, vitae tincidunt odio.</p>
							<ul class="actions">
								<li><a href="generic.html" class="button">Learn More</a></li>
							</ul>
						</section>
						<section>
							<h2>Etiam feugiat</h2>
							<dl class="alt">
								<dt>Address</dt>
								<dd>1234 Somewhere Road &bull; Nashville, TN 00000 &bull; USA</dd>
								<dt>Phone</dt>
								<dd>(000) 000-0000 x 0000</dd>
								<dt>Email</dt>
								<dd><a href="#">information@untitled.tld</a></dd>
							</dl>
							<ul class="icons">
								<li><a href="#" class="icon fa-twitter alt"><span class="label">Twitter</span></a></li>
								<li><a href="#" class="icon fa-facebook alt"><span class="label">Facebook</span></a></li>
								<li><a href="#" class="icon fa-instagram alt"><span class="label">Instagram</span></a></li>
								<li><a href="#" class="icon fa-github alt"><span class="label">GitHub</span></a></li>
								<li><a href="#" class="icon fa-dribbble alt"><span class="label">Dribbble</span></a></li>
							</ul>
						</section>
						<p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p> -->
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>